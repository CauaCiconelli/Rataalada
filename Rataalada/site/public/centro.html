<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="funcs/funcs.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/estiloc.css">
    <title>&lt;rataalada?&gt;</title>
</head>
<body>
    <div class="container">
        <div class="identidade">&gt; Contagem dos crimes em Gotham:</div>
    </div>
    <div class="container">
        <div class="canvasContainer">
            <canvas id="crimesBarra">
            </canvas>
        </div>
        <div class="canvasContainer">
            <canvas id="crimesMapa">
            </canvas>
        </div>
    </div>
    <div class="proceedCentro">&gt; Deseja prosseguir? [y/n] <input id="procInp" onkeyup="cadastroPag()"></div>
</body>
</html>
<script>
  const image = new Image();
  image.src = 'css/imgs/riddlerSmall.png';

  const plugin = {
  id: 'custom_canvas_background_image',
  beforeDraw: (chart) => {
    if (image.complete) {
      const ctx = chart.ctx;
      const {top, left, width, height} = chart.chartArea;
      const x = left + width / 2 - image.width / 2;
      const y = top + height / 2 - image.height / 2;
      ctx.drawImage(image, x, y);
    } else {
      image.onload = () => chart.draw();
    }
  }
};

    const distritos = [
      'Central',
      'Velha Gotham e Chinatown',
      'Bristol',
      'Midtown e Burnley',
      'East End',
      'Otisburg',
      'Tricorner',
    ];
  
    const ocorrencias = {
      labels: distritos,
      datasets: [{
        label: 'Distritos',
        backgroundColor: 'rgb(47, 145, 47)',
        borderColor: 'rgb(47, 145, 47)',
        data: [210, 109, 76, 40, 100, 76, 198],
      }]
    };

    const ocorrencias2 = {
      labels: distritos,
      datasets: [{
        label: 'Gotham Central',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:37,
            y:79,
            r:40
        }],
        label: 'Velha Gotham e Chinatown',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:33,
            y:49,
            r:40
        },
        {
            x:1,
            y:1,
            r:0
        },
        {
            x:100,
            y:100,
            r:0
        }],
        label: 'Bristol',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:55,
            y:55,
            r:40
        }],
        label: 'Midtown e Burnley',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:75,
            y:52,
            r:40
        }],
        label: 'East End',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:70,
            y:20,
            r:40
        }],
        label: 'Otisburg',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:70,
            y:20,
            r:40
        }],
        label: 'Tricorner',
        backgroundColor: 'rgb(19, 86, 15)',
        borderColor: 'rgb(19, 86, 15)',
        clip: {left: false, top: false, right: false, bottom: false},
        data: [{
            x:22,
            y:75,
            r:40
        }],
      }]
    };
  
    const config1 = {
      type: 'bar',
      data: ocorrencias,
      options: {}
    };

    const config2 = {
      type: 'bubble',
      data: ocorrencias2,
      options: {},
      plugins: [plugin],
    };

    const crimesBarra = new Chart(
    document.getElementById('crimesBarra'),
    config1
  );

  const crimesMapa = new Chart(
    document.getElementById('crimesMapa'),
    config2
  );

  </script>
  